(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{227:function(e,t,r){"use strict";r.r(t);var a=r(28),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[r("strong",[e._v("JavaScript 代码的加载和执行会阻塞下面HTML的渲染。")])]),e._v(" "),r("h2",{attrs:{id:"结论"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#结论"}},[e._v("#")]),e._v(" 结论")]),e._v(" "),r("ul",[r("li",[e._v("两者都只适用于外部脚本文件："),r("code",[e._v('<script async src="vue.js"><\/script>')]),e._v(";")]),e._v(" "),r("li",[e._v("两者都会并行下载，不会影响页面的解析，不会阻止 document 的解析;")]),e._v(" "),r("li",[r("code",[e._v("defer")]),e._v(" 会按照顺序在 DOMContentLoaded 前按照页面出现顺序依次执行；")]),e._v(" "),r("li",[r("code",[e._v("async")]),e._v(" 则是下载完立即执行，不一定是在 DOMContentLoaded 前；")]),e._v(" "),r("li",[r("code",[e._v("async")]),e._v(" 因为顺序无关，所以很适合像 Google Analytics 这样的无依赖脚本；")])]),e._v(" "),r("h2",{attrs:{id:"为什么要把script标签写在body底部"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#为什么要把script标签写在body底部"}},[e._v("#")]),e._v(" 为什么要把script标签写在body底部")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://i.loli.net/2020/07/03/C59SZbNvVq6P4OL.png",alt:""}})]),e._v(" "),r("ul",[r("li",[e._v("为了防止加载资源而导致的长时间的白屏（JS脚本的加载与执行都会阻塞DOM的渲染）；")]),e._v(" "),r("li",[e._v("js可能会进行DOM操作，所以要在DOM全部渲染完后再执行；")])]),e._v(" "),r("p",[r("code",[e._v("async")]),e._v("与"),r("code",[e._v("defer")]),e._v("最大的作用："),r("strong",[e._v("异步下载JS文件（即下载阶段不会影响DOM的渲染和解析）")]),e._v("，"),r("code",[e._v("defer")]),e._v("会在DOM完全解析完毕后且在触发"),r("code",[e._v("DOMContentLoaded")]),e._v("前依次执行。而"),r("code",[e._v("async")]),e._v("则是下载完就立刻执行且是无序的（所以此时仍可能阻塞DOM的渲染）。")]),e._v(" "),r("h2",{attrs:{id:"参考文章"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/xiaoyu2er/blog/issues/8",target:"_blank",rel:"noopener noreferrer"}},[e._v("彻底搞懂 async & defer"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.im/entry/5a7ad55ef265da4e81238da9",target:"_blank",rel:"noopener noreferrer"}},[e._v("浅谈script标签的defer和async"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://segmentfault.com/q/1010000000640869",target:"_blank",rel:"noopener noreferrer"}},[e._v("defer和async的区别"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);